# 빌드
- 실습 url: gist.github.com/hoconoco/e91f094c0b11626f555ff367e15e2e99
- `mkdir test1`
- `cd ./test1`
- `vi main.c`
- `vi yellow.c`
- `vi yellow.h`

## gcc(가장 쉬움)
1. `gcc -c ./소스코드`: compile & assemble >> object 파일 생성
2. `gcc ./main.o ./yellow.o -o ./gogo`: linking >> object파일과 library를 하나로 합친다 >> 실행파일(gogo) 생성

## 빌드 자동화 스크립트
1. `vi build.sh`: 쉘 스크립트 생성, 작성
```sh
#! /bin/bash
gcc -c ./main.c
gcc -c ./yellow.c
gcc ./main.o ./yellow.o -o ./gogo
rm -r ./*.o
```
2. `source build.sh`: 빌드 자동화 코드실행
3. `./gogo`: 실행파일 실행

## Make
- 빌드 자동화 도구
- 컴파일할 필요 없는 파일은 넘어간다
- `sudo apt install make -y`: 설치

- https://gist.github.com/hoconoco/54dd4461a5858acab6957e11b514e694
1. `vi Makefile` 이후 복붙
2. `make`: 자동으로 빌드해줌
3. `make clean`: .o 파일, 실행 파일 삭제

## CMake
- make의 자동화
- `sudo apt install g++ cmake -y`

1. `vi CMakeLists.txt`
2. 내용 복붙
```txt
cmake_minimum_required(VERSION 3.5)
project(MyYellowProject)

# 빌드할 실행파일과 소스파일들을 정의합니다.
add_executable(gogo main.c yellow.c)

# 해더파일이 있는 디렉토리를 포함시킵니다
include_directories(${CMAKE_CURRENT_SOURCE_DIR})

# 실행파일이 사용하는 해터파일을 명시합니다
target_include_directories(gogo PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})
```
3. `cmake .`: Makefile이 생성된다
4. `make`: 자동빌드

# Make 문법
1. target
```sh
HI: # 타깃, 목표 파일 이름, 빌드하려는 최종 결과물
    echo "HI"

HELLO:
    echo "HELLO"
```

- `make`: 첫 번째 target 실행(HI)
```sh
# 결과물
echo "HI" # 일단 echo "HI"를 실행
HI # "문자"를 출력
```

- `make 특정`: 특정 target 실행(HI, HELLO)

2. dependency
```sh
HI: HELLO # 타깃 실행 하기 전에 오른쪽이 먼저 실행
    echo "HI"

HELLO:
    echo "HELLO"
```

3. 변수
- $괄호 >> 소괄호,중괄호 상관 없다
```sh
# 변수 먼저 작성한다
MSG1 = "HI"
MSG2 = "HELLO"

HI: HELLO
    echo $(MSG1)

HELLO:
    echo ${MSG2}
```

4. 주석
- #을 사용한다, 한 줄 주석만 가능하다

5. 특수 변수
- `$@`: Target 이름
- `$^`: dependency 목록 전체
- `$<`: dependency 목록 중 첫 번째